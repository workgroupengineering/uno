<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{3FDF0F2D-CC11-49BE-8634-F81638D595C6}</ProjectGuid>
    <ProjectTypeGuids>{EFBA0AD7-5A72-4C68-AF49-83D382785DCF};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>SamplesApp.Droid</RootNamespace>
    <AssemblyName>SamplesApp.Droid</AssemblyName>
    <FileAlignment>512</FileAlignment>
    <AndroidApplication>true</AndroidApplication>
    <AndroidResgenFile>Resources\Resource.Designer.cs</AndroidResgenFile>
    <GenerateSerializationAssemblies>Off</GenerateSerializationAssemblies>
    <TargetFrameworkVersion>v13.0</TargetFrameworkVersion>
    <AndroidManifest>Properties\AndroidManifest.xml</AndroidManifest>
    <AndroidUseIntermediateDesignerFile>True</AndroidUseIntermediateDesignerFile>
    <ResourcesDirectory>..\SamplesApp.Shared\Strings</ResourcesDirectory>
    <AndroidUseAapt2>true</AndroidUseAapt2>
    <!-- Workaround for https://github.com/xamarin/xamarin-android/issues/6480 -->
    <AndroidUseAssemblyStore>false</AndroidUseAssemblyStore>
  </PropertyGroup>
  <PropertyGroup>
    <IsUiAutomationMappingEnabled>true</IsUiAutomationMappingEnabled>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>portable</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE;XAMARIN;HAS_UNO</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <AndroidUseSharedRuntime>True</AndroidUseSharedRuntime>
    <AndroidLinkMode>None</AndroidLinkMode>
    <EmbedAssembliesIntoApk>false</EmbedAssembliesIntoApk>
    <AotAssemblies>false</AotAssemblies>
    <EnableLLVM>false</EnableLLVM>
    <AndroidEnableProfiledAot>false</AndroidEnableProfiledAot>
    <MandroidI18n />
    <AndroidSupportedAbis>armeabi-v7a;x86;x86_64;arm64-v8a</AndroidSupportedAbis>
    <AndroidPackageFormat>apk</AndroidPackageFormat>
    <AndroidUseAapt2>true</AndroidUseAapt2>
    <!-- Workaround for https://github.com/xamarin/xamarin-android/issues/6480 -->
    <AndroidUseAssemblyStore>false</AndroidUseAssemblyStore>
    <AndroidCreatePackagePerAbi>false</AndroidCreatePackagePerAbi>
    <BundleAssemblies>false</BundleAssemblies>
    <AndroidEnableMultiDex>true</AndroidEnableMultiDex>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <DebugSymbols>false</DebugSymbols>
    <AndroidManagedSymbols>true</AndroidManagedSymbols>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE;XAMARIN;HAS_UNO</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <AndroidUseSharedRuntime>False</AndroidUseSharedRuntime>
    <AndroidLinkMode>SdkOnly</AndroidLinkMode>
    <AotAssemblies>false</AotAssemblies>
    <EnableLLVM>false</EnableLLVM>
    <AndroidEnableProfiledAot>false</AndroidEnableProfiledAot>
    <BundleAssemblies>false</BundleAssemblies>
    <AndroidSupportedAbis>armeabi-v7a;x86;x86_64;arm64-v8a</AndroidSupportedAbis>
    <EmbedAssembliesIntoApk>true</EmbedAssembliesIntoApk>
    <AndroidEnableSGenConcurrent>true</AndroidEnableSGenConcurrent>
    <AndroidEnableMultiDex>true</AndroidEnableMultiDex>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Mono.Android" />
    <Reference Include="Mono.Android.Export" />
    <Reference Include="System" />
    <Reference Include="System.Core" />
    <Reference Include="System.IO.Compression" />
    <Reference Include="System.IO.Compression.FileSystem" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Numerics" />
    <Reference Include="System.Numerics.Vectors" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="IdentityModel.OidcClient" Version="3.1.2" />
    <PackageReference Include="Microsoft.Graph">
      <Version>3.12.0</Version>
    </PackageReference>
    <PackageReference Include="Microsoft.Identity.Client">
      <Version>4.15.0</Version>
    </PackageReference>
    <PackageReference Include="Uno.UniversalImageLoader" Version="1.9.36" />
    <PackageReference Include="Xamarin.AndroidX.AppCompat.AppCompatResources">
      <Version>1.3.1.3</Version>
    </PackageReference>
    <PackageReference Include="Xamarin.AndroidX.Browser" Version="1.0.0" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="MSTest.TestFramework" Version="2.1.2" />
    <PackageReference Include="Uno.SourceGenerationTasks" />
    <PackageReference Include="Microsoft.Extensions.Logging.Console" Version="1.1.1" />
    <PackageReference Include="Microsoft.Extensions.Logging.Filter" Version="1.1.2" />
    <PackageReference Include="Xamarin.AndroidX.Lifecycle.LiveData" Version="2.5.1" />
    <PackageReference Include="Xamarin.AndroidX.Fragment" Version="1.5.2" />
    <PackageReference Include="Xamarin.AndroidX.RecyclerView" Version="1.2.1.7" />
    <PackageReference Include="Uno.BenchmarkDotNet" Version="0.11.7-develop" />
    <PackageReference Include="Uno.BenchmarkDotNet.Annotations" Version="0.11.7-develop" />
    <PackageReference Include="Uno.Core.Extensions.Logging.Singleton" Version="4.0.0-dev.7" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\AddIns\Uno.UI.Lottie\Uno.UI.Lottie.csproj">
      <Project>{f9277925-fc11-4a97-8ca1-b4a33e726f55}</Project>
      <Name>Uno.UI.Lottie</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\AddIns\Uno.UI.MSAL\Uno.UI.MSAL.csproj">
      <Project>{2569663D-293A-4A1D-BB84-AA8C7B4B7F92}</Project>
      <Name>Uno.UI.MSAL</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\AddIns\Uno.UI.Svg\Uno.UI.Svg.csproj">
      <Project>{342ba5fa-2c60-4f09-ba1b-22dbb0c15faa}</Project>
      <Name>Uno.UI.Svg</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.Foundation\Uno.Foundation.csproj">
      <Project>{528AE586-5DF3-4DAD-AA5C-F12F4D5E0605}</Project>
      <Name>Uno.Foundation</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Foldable\Uno.UI.Foldable.csproj">
      <Project>{c187cd35-e5b4-4054-99c2-5d85ad9d6c73}</Project>
      <Name>Uno.UI.Foldable</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Composition\Uno.UI.Composition.csproj">
      <Project>{39c20ebb-59d8-43e5-9cf6-390521c0c82a}</Project>
      <Name>Uno.UI.Composition</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Dispatching\Uno.UI.Dispatching.csproj">
      <Project>{ac6e2bd5-3902-46f4-8ea9-9bef09d8b39c}</Project>
      <Name>Uno.UI.Dispatching</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Maps\Uno.UI.Maps.csproj">
      <Project>{f25ccf70-5a21-4245-ae4e-342bc55f9e86}</Project>
      <Name>Uno.UI.Maps</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.RemoteControl\Uno.UI.RemoteControl.csproj">
      <Project>{80798130-cb7e-4968-b4f6-554cc0fc8feb}</Project>
      <Name>Uno.UI.RemoteControl</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.RuntimeTests\Uno.UI.RuntimeTests.csproj">
      <Project>{028f3ee0-d51b-469a-a72c-c272585dcd40}</Project>
      <Name>Uno.UI.RuntimeTests</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Toolkit\Uno.UI.Toolkit.csproj">
      <Project>{2eaf39e3-2ac9-457a-a5b2-47d6548799b3}</Project>
      <Name>Uno.UI.Toolkit</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI\Uno.UI.csproj">
      <Project>{C6884723-81DB-43BD-924F-3FA367633E64}</Project>
      <Name>Uno.UI</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UWP\Uno.csproj">
      <Project>{58C0CBAB-2619-4F58-BC41-5C74DBE31261}</Project>
      <Name>Uno</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.BindingHelper.Android\Uno.UI.BindingHelper.Android.csproj">
      <Project>{58332380-4302-4259-8F36-AF572C53827F}</Project>
      <Name>Uno.UI.BindingHelper.Android</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.FluentTheme\Uno.UI.FluentTheme.csproj">
      <Project>{535339e2-6c01-4478-9889-f6e76b1c00f4}</Project>
      <Name>Uno.UI.FluentTheme</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.FluentTheme.v1\Uno.UI.FluentTheme.v1.csproj">
      <Name>Uno.UI.FluentTheme.v1</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.FluentTheme.v2\Uno.UI.FluentTheme.v2.csproj">
      <Name>Uno.UI.FluentTheme.v2</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.Foundation.Logging\Uno.Foundation.Logging.csproj">
      <Project>{76875e6f-30f3-4225-821f-11a299bcbdb0}</Project>
      <Name>Uno.Foundation.Logging</Name>
    </ProjectReference>
    <ProjectReference Include="..\..\Uno.UI.Adapter.Microsoft.Extensions.Logging\Uno.UI.Adapter.Microsoft.Extensions.Logging.csproj">
      <Project>{637995af-2ddf-4b13-bde6-353bbd65250b}</Project>
      <Name>Uno.UI.Adapter.Microsoft.Extensions.Logging</Name>
    </ProjectReference>
  </ItemGroup>
  <Import Project="..\..\SourceGenerators\sourcegenerators.local.props" />
  <ItemGroup>
    <Compile Include="MainActivity.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Main.cs" />
  </ItemGroup>
  <ItemGroup>
    <AndroidAsset Include="Assets\Fonts\uno-fluentui-assets.ttf" />
    <AndroidEnvironment Include="environment.conf" />
    <AndroidAsset Include="Assets\Lottie\4770-lady-and-dove.json" />
    <AndroidAsset Include="Assets\Lottie\4930-checkbox-animation.json" />
    <AndroidAsset Include="Assets\Lottie\lottie-logo.json" />
    <AndroidAsset Include="Assets\Lottie\uno.json" />
    <AndroidAsset Include="Assets\Lottie\LightBulb.json" />
    <None Include="Resources\AboutResources.txt" />
    <None Include="Assets\AboutAssets.txt" />
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\values\Strings.xml" />
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\drawable\Icon.png" />
  </ItemGroup>
  <ItemGroup>
    <None Include="Properties\AndroidManifest.xml">
      <SubType>Designer</SubType>
    </None>
  </ItemGroup>
  <ItemGroup>
    <AndroidResource Include="Resources\values\Styles.xml" />
  </ItemGroup>
  <ItemGroup>
    <AndroidAsset Include="Assets\sound.mp3" />
  </ItemGroup>
  <Import Project="..\SamplesApp.Shared\SamplesApp.Shared.projitems" Label="Shared" Condition="Exists('..\SamplesApp.Shared\SamplesApp.Shared.projitems')" />
  <Import Project="..\SamplesApp.UnitTests.Shared\SamplesApp.UnitTests.Shared.projitems" Label="Shared" />
  <Import Project="..\UITests.Shared\UITests.Shared.projitems" Label="Shared" />
  <Import Project="$(MSBuildExtensionsPath)\Xamarin\Android\Xamarin.Android.CSharp.targets" />
  <Import Project="..\Benchmarks.Shared\Benchmarks.Shared.projitems" Label="Shared" />
  <Import Project="..\SamplesApp.UnitTests.Shared\SamplesApp.UnitTests.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it.
     Other similar extension points exist, see Microsoft.Common.targets.
		<Target Name="BeforeBuild">
		</Target>
		<Target Name="AfterBuild">
		</Target>
 -->
  <PropertyGroup Condition="'$(UnoSampleAppDisableAPKGeneration)'=='True'">
    <EmbedAssembliesIntoApk>False</EmbedAssembliesIntoApk>
  </PropertyGroup>
  <Target Name="ValidateNoDPIAndroidResource" AfterTargets="Build">
    <ItemGroup>
      <_myFilteredGroup Include="@(AndroidResource)" Condition="'%(AndroidResource.FileName)'=='nodpi-validationresource'" />
    </ItemGroup>
    <PropertyGroup>
      <_MyMdpiAsset>%(_myFilteredGroup.LogicalName)</_MyMdpiAsset>
    </PropertyGroup>
    <Error Condition="!$(_MyMdpiAsset.Contains('-nodpi'))" Text="The file nodpi-validationresource.jpeg does not exist under drawable-nodpi directory" />
  </Target>
  <Target Name="_ValidateAndroidSupportedAbis" BeforeTargets="BeforeBuild">
    <Error Condition="'$(UnoDisableValidateAndroidSupportedAbis)'=='' and '$(AndroidSupportedAbis)' != 'armeabi-v7a;x86;x86_64;arm64-v8a'" Text="The target list isn't correct, it must be 'armeabi-v7a;x86;x86_64;arm64-v8a'" />
  </Target>
  <Target Name="_FilterInvalidMacOSmsorlibReference" BeforeTargets="BeforeBuild">
    <!--Condition="$([MSBuild]::IsOsPlatform('OSX'))"-->
    <!--
		On macOS, starting from android 12, the tooling includes two versions of mscorlib:

				CSC error CS1703: Multiple assemblies with equivalent identity have been imported: '/Library/Frameworks/Mono.framework/External/xbuild-frameworks/MonoAndroid/v1.0/mscorlib.dll'
				and '/Library/Frameworks/Mono.framework/Versions/6.12.0/lib/mono/4.5/mscorlib.dll'. Remove one of the duplicate references.

		We're removing one of the explicit reference for the build to continue.
		-->
    <ItemGroup>
      <_FilteredExplicitReference Include="@(_ExplicitReference)" Condition="'%(_ExplicitReference.FileName)'=='mscorlib'" />
      <_ExplicitReference Remove="@(_FilteredExplicitReference)" />
    </ItemGroup>
  </Target>
</Project>